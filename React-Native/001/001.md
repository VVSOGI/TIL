# React-Native

리액트 네이티브 문서를 읽어봤을 때, 한 개의 코드로 안드로이드나 IOS에 동시에 빌드가 되는 것 같다. 리액트 네이티브에서는 코어 컴포넌트들을 가지고 있는데, 대표적으로 다섯 개를 소개해준다.

- <View> 안드로이드에서는 <ViewGroup> IOS에서는 <UIView> 아날로그 웹에서는 <div>
  이 코어 컴포넌트는 웹 앱에서 제공했던 플렉스와 스타일에 관련된 기능을 지원해준다.
- <Text> 안드로이드에서는 <TextView> IOS에서는 <UITextView> 아날로그 웹에서는 <p>
  디스플레이나, 스타일, 글자와 관련된 기능 그리고 터치 이벤트또한 지원해준다.
- <Image> 안드로이드에서는 <ImageView> IOS에서는 <UIImageView> 아날로그 웹에서는 <img>
  이미지에 관련된 기능.
- <ScrollView> 안드로이드에서는 <ScrollView> IOS에서는 <UIScrollView> 웹에서는 <div>
  처음 보는 부분인데, 보통 자바스크립트를 이용한 웹에서는 스크롤에 대한 것들을 따로 나눠놓지 않았지만, 아무래도 핸드폰에서 동작하는 앱은 스크롤이 관련된 이벤트나 기능들이 많기에 따로 나눠논 것이 아닐까라는 생각을 해본다.
- <TextInput> 안드로이드에서는 <EditText> IOS에서는 <UITextField> 아날로그 웹에서는 <input type="text">
  내용을 입력할 수 있는 텍스트 폼.

실제 가지고 있는 기기가 한정되있기에, IOS로만 실험을 해본 결과, 기존에 만들었던 자바스크립트 웹 앱과 크게 다르지않게 스타일을 지정하고 수정할 수 있는 것 같다. 다른 점은 View 태그에서 이전에 div로도 텍스트를 넣을 수 있고 자유롭게 구성하는 것과는 달리, 텍스트를 넣어주기 위해서라면 Text태그를 사용해야한다. View안에 곧장 텍스트를 사용하면 에러가 발생한다. 스타일은 인라인 태그에 직접 넣어주는 방식을 사용했는데, react native에도 스타일드 컴포넌트같은 라이브러리가 있는지 확인을 해봐야겠다.

1. React-Native에도 스타일드 컴포넌트같은 라이브러리가 있는지 확인

리액트 네이티브의 버튼 컴포넌트도 온 클릭이라는 이벤트를 사용하지 않고 온 프레스라는 이벤트를 사용한다. 아무래도 기존에 있던 onClick을 가져다 쓰면 충돌이 발생했기에 살짝 이름이 다른 것 같다.

우선 리액트 네이티브도 리액트의 핵심 컨셉 네 가지인 Components, JSX, Props, state의 기능은 그대로 가져다 쓴 것 같다. 리액트를 많이 다뤄본 사람이라면 이 부분을 구현하는데 어려운 점은 없을 것 같다.

보통 웹 앱에서 <input type="text">를 사용할 때, 안에 기입된 내용들의 상태를 저장하고 즉시 수정이 되야할 때, state로 관리하는데, 리액트 네이티브도 똑같이 사용된다. 가장 기본인 View태그 안에 TextInput을 넣어주고, 기존의 알고있던 기능인 onChange가 아닌 onChangeText라는 기능을 사용해서, 상태를 관리해주면 된다.

위 쪽에 의문이 있었던 부분인 ScrollView에 대해서 알아봤다. 웹 앱에서는 내용이 길어지면 자동으로 스크롤이 생성되게끔 작동하는데, 리액트 네이티브에서는 스크롤뷰라는 태그를 직접 사용하지 않는다면 스크롤이 내려가지 않는다. 왜 그런식으로 기능을 하는지는 정확히 모르겠지만, 아무래도 컴퓨터가 아닌 핸드폰에서는 어떤 기능을 on해줘야 스크롤이 작동하는 것 같고, 리액트 네이티브에서는 그 기능을 on으로 바꿔주는 것이 스크롤뷰 태그인 것 같다. (pagingEnabled이라는 기능을 사용해야하는듯)

또한 스크롤뷰 태그안에 maximumZoomScale라는 속성이 있는데, 이 속성에 브라켓을 씌워서 그 안에 원하는 숫자를 넣는 만큼 확대가 되는 것 같다. ex) maximumZoomScale={3} 반대로 minimumZoomScale도 있음.

리액트 네이티브에는 데이터를 리스트화 해주는 컴포넌트를 제공한다. 대표적으로 FlatList, SectionList를 제공해준다. 지금까지 봤던 것들은 기존에 자바스크립트와 크게 다르지 않지만 이 컴포넌트는 처음보는 형태이다. 플랫리스트의 속성중에 데이터라는 속성이 있는데, 배열안에 키와 벨류로 구분하는 속성이다. 뭔가 정리하고 싶은 데이터가 있다면 플랫리스트에 데이터 속성안에 데이터를 키와 벨류로 나눠준 후에 렌더아이템이라는 속성을 이용해서 불러오면 된다. 불러줄때는 콜백함수의 형태로 마치 이전에 맵을 이용해서 데이터를 불러오는 형태로 사용해주면 된다. 이 파트에서 재밌는 것을 하나 더 발견했는데, StyleSheet이라는 리액트 네이티브의 기능이다. css파트를 모듈화해서 필요한 부분에 가져다 사용하는 것 같은데, 아무래도 위쪽에 스타일드 컴포넌트같은 라이브러리를 확인한다고 작성해놨는데, 굳이 찾지 않고 기본으로 제공하는 StyleSheet를 사용해도 괜찮게 사용할 수 있을 것 같다.

1. React-Native에도 스타일드 컴포넌트같은 라이브러리가 있는지 확인 ==> StyleSheet

SectionList는 FlatList보다 살짝 더 디테일하게 구성할 수 있다. 우선 sections라는 속성을 이용해서 데이터를 저장할 수 있는데, 데이터를 더 구분해서 저장할 수 있다고 보면 될 것 같다. 영어사전을 예를들어 보자면 FlatList는 말 그대로 평평하게 모든 데이터를 보여줄 수 있는 반면에 SectionList는 A로 시작하는 단어부터 Z로 시작하는 단어까지 모든 데이터를 구분해서 보여줄 수 있다는 점이다. 섹션리스트에 속성에 sections라는 속성에 구분지어줄 키값과 데이터를 작성한다. 예를들어 title:A, data:[A로 시작하는 단어들...]이라고 한다면 전체 데이터를 구분해줄 키값은 title이 될 것이고 구분에 따른 데이터는 A로 시작하는 단어들이 될 것이다. 이후에 renderSectionHeader라는 속성에 콜백함수의 형태로 원하는 값을 텍스트 태그안에 넣어주는 방식으로 지정해준다. 그렇다면 A-Z까지의 구분이 가능한 헤더가 생긴다. 그렇다면 데이터는 어떻게 넣어줄 수 있을까? 답은 간단하게도 FlatList에서도 사용했던 renderItem을 이용해서 원하는 데이터들을 불러오면 된다. 그리고 FlatList와 다르게 KeyExtractor라는 속성이 있는데 렌더해준 데이터와 컴포넌트의 관계를 명시해주는 키값을 넣어준 것 같다. 우리가 리액트에서 Map을 이용해서 데이터를 렌더링 해줬던 것과 같은 방식이라고 생각하겠다.

기본적인 내용은 이렇고 이제 실제로 미니 프로젝트인 리액트 네이티브 투두 리스트를 만들어보며 보강해보겠다.

2021/12/13
